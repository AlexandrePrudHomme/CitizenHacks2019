{"version":3,"sources":["Navbar.js","Profile.js","Signin.js","App.js","index.js"],"names":["avatarFallbackImage","Navbar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","person","name","avatarUrl","username","newStatus","statuses","statusIndex","isLoading","_this2","_this$props","handleSignOut","userSession","react_default","a","createElement","className","style","zIndex","value","findProfile","onChange","e","handleFindProfile","placeholder","onClick","handleFindProfileSubmit","event","setState","target","saveNewStatus","window","location","href","statusText","_this3","status","id","text","trim","created_at","Date","now","unshift","putFile","JSON","stringify","encrypt","then","_this4","isLocal","getFile","decrypt","file","parse","Person","loadUserData","profile","length","finally","match","params","lookupProfile","catch","error","console","log","options","Component","Profile","isSignInPending","Navbar_Navbar","src","bind","handleNewStatusChange","handleNewStatusSubmit","map","key","fetchData","Signin","handleSignIn","appConfig","AppConfig","UserSession","App","preventDefault","redirectToSignIn","signUserOut","origin","isUserSignedIn","Switch","Route","path","render","routeProps","Profile_Profile","assign","Signin_Signin","handlePendingSignIn","userData","history","replaceState","document","title","ReactDOM","BrowserRouter","App_App","getElementById"],"mappings":"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","file":"static/js/main.08419f6a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Person,\n  lookupProfile\n} from 'blockstack';\n\nconst avatarFallbackImage = 'https://s3.amazonaws.com/onename/avatar-placeholder.png';\n\nexport default class Navbar extends Component {\n  constructor(props) {\n    super(props);\n \n    this.state = {\n      person: {\n        name() {\n          return 'Anonymous';\n        },\n        avatarUrl() {\n          return avatarFallbackImage;\n        },\n      },\n      username: \"\",\n      newStatus: \"\",\n      statuses: [],\n      statusIndex: 0,\n      isLoading: false\n    };\n  }\n\n  render() {\n    const { handleSignOut, userSession } = this.props;\n    const { person } = this.state;\n    const { username } = this.state;\n\n\n    /*\n    //insert picture \n    const realFileBtn = document.getElementById(\"real-file\");\n    const customBtn = document.getElementById(\"custom-button\");\n    const customTxt = document.getElementById(\"custom-text\");\n\n    if(customBtn){\n      customBtn.addEventListener(\"click\", function() {\n        realFileBtn.click();\n      });\n    }\n\n    if(realFileBtn){\n      realFileBtn.addEventListener(\"change\", function() {\n        if (realFileBtn.value) {\n          customTxt.innerHTML = realFileBtn.value.match(\n            /[\\/\\\\]([\\w\\d\\s\\.\\-\\(\\)]+)$/\n          )[1];\n        } else {\n          customTxt.innerHTML = \"No file chosen, yet.\";\n        }\n      });\n    }\n    */\n\n    return (\n\n      <div className=\"container\">\n        <div  style={{zIndex: \"1000\"}}>\n            <textarea className=\"input-status-find\"\n            value={this.state.findProfile}\n            onChange={e => this.handleFindProfile(e)}\n            placeholder=\"Find a profile\"\n              />\n            <button\n                className=\"btn-find btn-primary-find btn-lg-find\"\n                onClick={e => this.handleFindProfileSubmit(e)}\n              >\n                Submit\n            </button>\n          </div>\n            {/* <div className=\"new-status\">\n              <div className=\"col-md-12\">\n\n              \n                <div className=\"avatar-con\">\n                  <img\n                    src={ person.avatarUrl() ? person.avatarUrl() : avatarFallbackImage }\n                    className=\"img-rounded avatar\"\n                    id=\"avatar-image\"\n                  />\n                  <div className=\"username\">\n                    <h1>\n                      <span id=\"heading-name\">{ person.name() ? person.name()\n                        : 'Nameless Person' }</span>\n                    </h1>\n                    <span>{username}</span>\n                    {this.isLocal() &&\n                      <span>\n                        &nbsp;|&nbsp;\n                        <a onClick={ handleSignOut.bind(this) }>(Logout)</a>\n                      </span>\n                    }\n                  </div>\n                </div>\n              </div>\n            </div>\n            {this.isLocal() &&\n              <div className=\"new-status\">\n                <div className=\"col-md-12\">\n                \n                  <textarea className=\"input-status\"\n                    value={this.state.newStatus}\n                    onChange={e => this.handleNewStatusChange(e)}\n                    placeholder=\"What's on your mind?\"\n                  />\n                </div>\n                <div className=\"col-md-12 text-right\">\n                  <button\n                    className=\"btn btn-primary btn-lg\"\n                    onClick={e => this.handleNewStatusSubmit(e)}\n                  >\n                    Submit\n                  </button>\n                </div>\n              </div>\n            }\n            <div className=\"col-md-12 statuses\">\n            {this.state.isLoading && <span>Loading...</span>}\n            {this.state.statuses.map((status) => (\n                <div className=\"status\" key={status.id}>\n                  {status.text}\n                </div>\n                )\n            )}\n            </div>\n\n            <div>\n              <a className=\"Nav-brand-logo\"></a>\n            </div> */}\n\n\n      </div> \n    );\n    }\n\n  componentWillMount() {\n    // const { userSession } = this.props\n    // this.setState({\n    //   person: new Person(userSession.loadUserData().profile),\n    //   username: userSession.loadUserData().username\n    // });\n  }\n\n  handleNewStatusChange(event) {\n    this.setState({newStatus: event.target.value})\n  }\n\n\n  handleFindProfile(event) {\n    this.setState({findProfile: event.target.value})\n  }\n \n\n  handleNewStatusSubmit(event) {\n    this.saveNewStatus(this.state.newStatus)\n    this.setState({\n      newStatus: \"\"\n    })\n  }\n\n\n  handleFindProfileSubmit(event) {\n    //window.location.href = \"https://thirsty-roentgen-965c99.netlify.com/\" + this.findProfile + \".id.blockstack\";\n    //window.location.href = \"https://www.google.com\";\n    //document.write.getElementById(\"inputFindProfile\");\n    //window.print.getElementById(\"inputFindProfile\");\n    //window.location.href = \"http://127.0.0.1:3000/\" + this.state.findProfile + \".id.blockstack\";\n    window.location.href = \"https://thirsty-roentgen-965c99.netlify.com/\" + this.state.findProfile + \".id.blockstack\";\n  }\n\n\n  saveNewStatus(statusText) {\n    const { userSession } = this.props\n    let statuses = this.state.statuses\n \n    let status = {\n      id: this.state.statusIndex++,\n      text: statusText.trim(),\n      created_at: Date.now()\n    }\n \n    statuses.unshift(status)\n    const options = { encrypt: false }\n    userSession.putFile('statuses.json', JSON.stringify(statuses), options)\n      .then(() => {\n        this.setState({\n          statuses: statuses\n        })\n      })\n  }\n\n  fetchData() {\n    const { userSession } = this.props\n    this.setState({ isLoading: true })\n    if (this.isLocal()) {\n      const options = { decrypt: false }\n      userSession.getFile('statuses.json', options)\n        .then((file) => {\n          var statuses = JSON.parse(file || '[]')\n          this.setState({\n            person: new Person(userSession.loadUserData().profile),\n            username: userSession.loadUserData().username,\n            statusIndex: statuses.length,\n            statuses: statuses,\n          })\n        })\n        .finally(() => {\n          this.setState({ isLoading: false })\n        })\n    } else {\n      const username = this.props.match.params.username\n \n      lookupProfile(username)\n        .then((profile) => {\n          this.setState({\n            person: new Person(profile),\n            username: username\n          })\n        })\n        .catch((error) => {\n          console.log('could not resolve profile')\n        })\n\n      const options = { username: username, decrypt: false }\n      userSession.getFile('statuses.json', options)\n        .then((file) => {\n          var statuses = JSON.parse(file || '[]')\n          this.setState({\n            statusIndex: statuses.length,\n            statuses: statuses\n          })\n        })\n        .catch((error) => {\n          console.log('could not fetch statuses')\n        })\n        .finally(() => {\n          this.setState({ isLoading: false })\n        })\n    }\n  }\n  \n\n}\n","import React, { Component } from 'react';\nimport {\n  Person,\n  lookupProfile\n} from 'blockstack';\nimport Navbar from './Navbar'\n\nconst avatarFallbackImage = 'https://s3.amazonaws.com/onename/avatar-placeholder.png';\n\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n \n    this.state = {\n      person: {\n        name() {\n          return 'Anonymous';\n        },\n        avatarUrl() {\n          return avatarFallbackImage;\n        },\n      },\n      username: \"\",\n      newStatus: \"\",\n      statuses: [],\n      statusIndex: 0,\n      isLoading: false\n    };\n  }\n\n  render() {\n    const { handleSignOut, userSession } = this.props;\n    const { person } = this.state;\n    const { username } = this.state;\n\n\n    /*\n    //insert picture \n    const realFileBtn = document.getElementById(\"real-file\");\n    const customBtn = document.getElementById(\"custom-button\");\n    const customTxt = document.getElementById(\"custom-text\");\n\n    if(customBtn){\n      customBtn.addEventListener(\"click\", function() {\n        realFileBtn.click();\n      });\n    }\n\n    if(realFileBtn){\n      realFileBtn.addEventListener(\"change\", function() {\n        if (realFileBtn.value) {\n          customTxt.innerHTML = realFileBtn.value.match(\n            /[\\/\\\\]([\\w\\d\\s\\.\\-\\(\\)]+)$/\n          )[1];\n        } else {\n          customTxt.innerHTML = \"No file chosen, yet.\";\n        }\n      });\n    }\n    */\n\n    return (\n      !userSession.isSignInPending() && person ?\n     <div>\n      <Navbar/>\n      <div className=\"container\">\n\n            <div className=\"new-status\">\n              <div className=\"col-md-12\">\n\n              {/* <div  style={{zIndex: \"1000\"}}>\n                <textarea className=\"input-status-find\"\n                value={this.state.findProfile}\n                onChange={e => this.handleFindProfile(e)}\n                placeholder=\"Find a profile\"\n                 />\n                <button\n                    className=\"btn-find btn-primary-find btn-lg-find\"\n                    onClick={e => this.handleFindProfileSubmit(e)}\n                  >\n                    Submit\n                </button>\n              </div> */}\n                <div className=\"avatar-con\">\n                  <img\n                    src={ person.avatarUrl() ? person.avatarUrl() : avatarFallbackImage }\n                    className=\"img-rounded avatar\"\n                    id=\"avatar-image\"\n                  />\n                  <div className=\"username\">\n                    <h1>\n                      <span id=\"heading-name\">{ person.name() ? person.name()\n                        : 'Nameless Person' }</span>\n                    </h1>\n                    <span>{username}</span>\n                    {this.isLocal() &&\n                      <span>\n                        &nbsp;|&nbsp;\n                        <a onClick={ handleSignOut.bind(this) }>(Logout)</a>\n                      </span>\n                    }\n                  </div>\n                </div>\n              </div>\n            </div>\n            {this.isLocal() &&\n              <div className=\"new-status\">\n                <div className=\"col-md-12\">\n                \n                  <textarea className=\"input-status\"\n                    value={this.state.newStatus}\n                    onChange={e => this.handleNewStatusChange(e)}\n                    placeholder=\"What's on your mind?\"\n                  />\n                </div>\n                <div className=\"col-md-12 text-right\">\n                  <button\n                    className=\"btn btn-primary btn-lg\"\n                    onClick={e => this.handleNewStatusSubmit(e)}\n                  >\n                    Submit\n                  </button>\n                </div>\n              </div>\n            }\n            <div className=\"col-md-12 statuses\">\n            {this.state.isLoading && <span>Loading...</span>}\n            {this.state.statuses.map((status) => (\n                <div className=\"status\" key={status.id}>\n                  {status.text}\n                </div>\n                )\n            )}\n            </div>\n\n            <div>\n              <a className=\"Nav-brand-logo\"></a>\n            </div>\n            <span>\n                        &nbsp;|&nbsp;\n                        <a onClick={ handleSignOut.bind(this) }>(Logout)</a>\n                      </span>\n\n\n      </div>\n      </div>\n       : null\n    );\n    }\n\n  componentWillMount() {\n    const { userSession } = this.props\n    this.setState({\n      person: new Person(userSession.loadUserData().profile),\n      username: userSession.loadUserData().username\n    });\n  }\n\n  handleNewStatusChange(event) {\n    this.setState({newStatus: event.target.value})\n  }\n\n\n  handleFindProfile(event) {\n    this.setState({findProfile: event.target.value})\n  }\n \n\n  handleNewStatusSubmit(event) {\n    this.saveNewStatus(this.state.newStatus)\n    this.setState({\n      newStatus: \"\"\n    })\n  }\n\n\n  handleFindProfileSubmit(event) {\n    //window.location.href = \"https://thirsty-roentgen-965c99.netlify.com/\" + this.findProfile + \".id.blockstack\";\n    //window.location.href = \"https://www.google.com\";\n    //document.write.getElementById(\"inputFindProfile\");\n    //window.print.getElementById(\"inputFindProfile\");\n    //window.location.href = \"http://127.0.0.1:3000/\" + this.state.findProfile + \".id.blockstack\";\n    window.location.href = \"https://thirsty-roentgen-965c99.netlify.com/\" + this.state.findProfile + \".id.blockstack\";\n  }\n\n\n  saveNewStatus(statusText) {\n    const { userSession } = this.props\n    let statuses = this.state.statuses\n \n    let status = {\n      id: this.state.statusIndex++,\n      text: statusText.trim(),\n      created_at: Date.now()\n    }\n \n    statuses.unshift(status)\n    const options = { encrypt: false }\n    userSession.putFile('statuses.json', JSON.stringify(statuses), options)\n      .then(() => {\n        this.setState({\n          statuses: statuses\n        })\n      })\n  }\n\n  fetchData() {\n    const { userSession } = this.props\n    this.setState({ isLoading: true })\n    if (this.isLocal()) {\n      const options = { decrypt: false }\n      userSession.getFile('statuses.json', options)\n        .then((file) => {\n          var statuses = JSON.parse(file || '[]')\n          this.setState({\n            person: new Person(userSession.loadUserData().profile),\n            username: userSession.loadUserData().username,\n            statusIndex: statuses.length,\n            statuses: statuses,\n          })\n        })\n        .finally(() => {\n          this.setState({ isLoading: false })\n        })\n    } else {\n      const username = this.props.match.params.username\n \n      lookupProfile(username)\n        .then((profile) => {\n          this.setState({\n            person: new Person(profile),\n            username: username\n          })\n        })\n        .catch((error) => {\n          console.log('could not resolve profile')\n        })\n\n      const options = { username: username, decrypt: false }\n      userSession.getFile('statuses.json', options)\n        .then((file) => {\n          var statuses = JSON.parse(file || '[]')\n          this.setState({\n            statusIndex: statuses.length,\n            statuses: statuses\n          })\n        })\n        .catch((error) => {\n          console.log('could not fetch statuses')\n        })\n        .finally(() => {\n          this.setState({ isLoading: false })\n        })\n    }\n  }\n  \n  componentDidMount() {\n    this.fetchData()\n  }\n\n  isLocal() {\n    return this.props.match.params.username ? false : true\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class Signin extends Component {\n\n  render() {\n    const { handleSignIn } = this.props;\n\n    return (\n      <div className=\"panel-landing\" id=\"section-1\">\n        <h1 className=\"landing-heading\">Instachain Powered by Blockstack!</h1>\n        <p className=\"lead\">\n          <button\n            className=\"btn btn-primary btn-lg\"\n            id=\"signin-button\"\n            onClick={ handleSignIn.bind(this) }\n          >\n            Sign In with Blockstack\n          </button>\n        </p>\n        <div>\n              <a className=\"Nav-brand-logo\"></a>\n            </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Profile from './Profile.js';\nimport Signin from './Signin.js';\nimport {\n  UserSession,\n  AppConfig\n} from 'blockstack';\nimport { Switch, Route } from 'react-router-dom';\n\nconst appConfig = new AppConfig(['store_write', 'publish_data'])\nconst userSession = new UserSession({ appConfig: appConfig })\n\nexport default class App extends Component {\n\n\n  handleSignIn(e) {\n    e.preventDefault();\n    userSession.redirectToSignIn();\n  }\n\n  handleSignOut(e) {\n    e.preventDefault();\n    userSession.signUserOut(window.location.origin);\n  }\n\n  render() {\n    return (\n      <div className=\"site-wrapper\">\n        <div className=\"site-wrapper-inner\">\n          { !userSession.isUserSignedIn() ?\n            <Signin userSession={userSession} handleSignIn={ this.handleSignIn } />\n            :    <Switch>\n            <Route\n              path='/:username?'\n              render={\n                routeProps => \n                  <Profile \n                    userSession={userSession} \n                    handleSignOut={ this.handleSignOut } \n                    {...routeProps} \n                  />\n              }\n            />\n          </Switch>\n          }\n        </div>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    if (userSession.isSignInPending()) {\n      userSession.handlePendingSignIn().then((userData) => {\n        window.history.replaceState({}, document.title, \"/\")\n        this.setState({ userData: userData})\n      });\n    }\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App.js';\n\n// Require Sass file so webpack can build it\nimport 'bootstrap/dist/css/bootstrap.css';\nimport'./styles/style.css';\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));"],"sourceRoot":""}